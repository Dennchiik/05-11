#include <iostream>
#include <string>

enum Тип { Птица, Скот, Человек };

union Характеристика {
    double скорость_полета;
    bool парнокопытное;
    int уровень_IQ;
};

struct ЖиваяСущность {
    double скорость_передвижения;
    Тип тип;
    std::string цвет;
    Характеристика характеристика;
};

void вводИнформации(ЖиваяСущность& сущность) {
    std::cout << "Введите скорость передвижения: ";
    std::cin >> сущность.скорость_передвижения;
    std::cout << "Введите тип (0 - Птица, 1 - Скот, 2 - Человек): ";
    int тип;
    std::cin >> тип;
    сущность.тип = static_cast<Тип>(тип);
    std::cout << "Введите цвет: ";
    std::cin.ignore();
    std::getline(std::cin, сущность.цвет);

    if (сущность.тип == Птица) {
        std::cout << "Введите скорость полета: ";
        std::cin >> сущность.характеристика.скорость_полета;
    }
    else if (сущность.тип == Скот) {
        std::cout << "Это парнокопытное? (1 - Да, 0 - Нет): ";
        std::cin >> сущность.характеристика.парнокопытное;
    }
    else if (сущность.тип == Человек) {
        std::cout << "Введите уровень IQ: ";
        std::cin >> сущность.характеристика.уровень_IQ;
    }
}

void печатьИнформации(const ЖиваяСущность& сущность) {
    std::cout << "Скорость передвижения: " << сущность.скорость_передвижения << std::endl;
    std::cout << "Тип: ";
    if (сущность.тип == Птица) {
        std::cout << "Птица" << std::endl;
        std::cout << "Скорость полета: " << сущность.характеристика.скорость_полета << std::endl;
    }
    else if (сущность.тип == Скот) {
        std::cout << "Скот" << std::endl;
        std::cout << "Парнокопытное: " << (сущность.характеристика.парнокопытное ? "Да" : "Нет") << std::endl;
    }
    else if (сущность.тип == Человек) {
        std::cout << "Человек" << std::endl;
        std::cout << "Уровень IQ: " << сущность.характеристика.уровень_IQ << std::endl;
    }
    std::cout << "Цвет: " << сущность.цвет << std::endl;
}

void редактироватьДанные(ЖиваяСущность& сущность) {
    вводИнформации(сущность);
}

void печатьСписка(const ЖиваяСущность* список, int размер) {
    for (int i = 0; i < размер; i++) {
        std::cout << "Живая сущность #" << i + 1 << ":" << std::endl;
        печатьИнформации(список[i]);
        std::cout << std::endl;
    }
}

void поискПоХарактеристике(const ЖиваяСущность* список, int размер, double значение) {
    for (int i = 0; i < размер; i++) {
        if (список[i].тип == Птица && список[i].характеристика.скорость_полета == значение) {
            std::cout << "Найдено: Птица с скоростью полета " << значение << std::endl;
            печатьИнформации(список[i]);
            std::cout << std::endl;
        }
        else if (список[i].тип == Скот && список[i].характеристика.парнокопытное == static_cast<bool>(значение)) {
            std::cout << "Найдено: Скот с парнокопытным = " << (значение ? "Да" : "Нет") << std::endl;
            печатьИнформации(список[i]);
            std::cout << std::endl;
        }
        else if (список[i].тип == Человек && список[i].характеристика.уровень_IQ == static_cast<int>(значение)) {
            std::cout << "Найдено: Человек с уровнем IQ " << значение << std::endl;
            печатьИнформации(список[i]);
            std::cout << std::endl;
        }
    }
}

int main() {
    const int размерСписка = 10;
    ЖиваяСущность список[размерСписка];

    for (int i = 0; i < размерСписка; i++) {
        вводИнформации(список[i]);
    }

    while (true) {
        std::cout << "Меню:" << std::endl;
        std::cout << "1. Редактировать данные" << std::endl;
        std::cout << "2. Печать всего списка" << std::endl;
        std::cout << "3. Поиск по характеристике" << std::endl;
        std::cout << "4. Выход" << std::endl;

        int выбор;
        std::cin >> выбор;

        if (выбор == 1) {
            int индекс;
            std::cout << "Введите индекс живой сущности для редактирования: ";
            std::cin >> индекс;
            if (индекс >= 1 && индекс <= размерСписка) {
                редактироватьДанные(список[индекс - 1]);
            }
            else {
                std::cout << "Неверный индекс." << std::endl;
            }
        }
        else if (выбор == 2) {
            печатьСписка(список, размерСписка);
        }
        else if (выбор == 3) {
            int тип;
            std::cout << "Введите тип для поиска (0 - Птица, 1 - Скот, 2 - Человек): ";
            std::cin >> тип;
            if (тип >= 0 && тип <= 2) {
                double значение;
                if (тип == 0) {
                    std::cout << "Введите скорость полета для поиска: ";
                }
                else if (тип == 1) {
                    std::cout << "Введите парнокопытное для поиска (1 - Да, 0 - Нет): ";
                }
                else if (тип == 2) {
                    std::cout << "Введите уровень IQ для поиска: ";
                }
                std::cin >> значение;
                поискПоХарактеристике(список, размерСписка, значение);
            }
            else {
                std::cout << "Неверный тип." << std::endl;
            }
        }
        else if (выбор == 4) {
            break;
        }
        else {
            std::cout << "Неверный выбор." << std::endl;
        }
    }

    return 0;
}
